generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

// TRACK 1: IdeaSprint (Idea-Based)
model IdeaSprintRegistration {
  id        String   @id @default(cuid())
  
  // Team Details
  teamName  String
  teamSize  String // Solo, 2 Members, etc.

  // Leader Details
  leaderName     String
  leaderEmail    String   @unique
  leaderPhone    String
  leaderCollege  String
  leaderDegree   String

  // Member 2
  member2Name     String?
  member2Email    String?
  member2College  String?
  member2Degree   String?

  // Member 3
  member3Name     String?
  member3Email    String?
  member3College  String?
  member3Degree   String?

  // Member 4
  member4Name     String?
  member4Email    String?
  member4College  String?
  member4Degree   String?

  // Idea Details
  ideaTitle        String
  problemStatement String
  proposedSolution String
  targetUsers      String
  expectedImpact   String
  techStack        String?
  psDocLink        String? // Link to deck/doc

  // Meta
  hearAbout        String
  additionalNotes  String?
  
  createdAt DateTime @default(now())
}

// TRACK 2: BuildStorm (24-Hour Hackathon)
model BuildStormRegistration {
  id        String   @id @default(cuid())

  // Team Details
  teamName  String
  teamSize  String

  // Leader Details
  leaderName     String
  leaderEmail    String   @unique
  leaderPhone    String
  leaderCollege  String
  leaderDegree   String

  // Member 2
  member2Name     String?
  member2Email    String?
  member2College  String?
  member2Degree   String?

  // Member 3
  member3Name     String?
  member3Email    String?
  member3College  String?
  member3Degree   String?

  // Member 4
  member4Name     String?
  member4Email    String?
  member4College  String?
  member4Degree   String?

  // Project Details
  problemDesc      String
  githubLink       String?

  // Meta
  hearAbout        String
  additionalNotes  String?

  createdAt DateTime @default(now())
}

model Otp {
  id        String   @id @default(cuid())
  email     String   @unique
  otp       String
  expiresAt DateTime
  verified  Boolean  @default(false)
  createdAt DateTime @default(now())
}
